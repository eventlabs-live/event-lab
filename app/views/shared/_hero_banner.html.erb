<%# app/views/shared/_hero_banner.html.erb %>

<div class="relative h-96 -z-50">
  <% if hero %>
  <%# Background Image with Overlay %>
  <div class="absolute inset-0">
    <%= image_tag "event_labs_log.png", class: "w-full h-full object-cover" %>
    <%# if hero.banner_image.attached? %>
      <%#= image_tag hero.banner_image, class: "w-full h-full object-cover" %>
    <%# else %>
<!--      <div class="w-full h-full bg-gradient-to-r from-purple-600 to-blue-500"></div>-->
    <%# end %>
    <div class="absolute inset-0 bg-black bg-opacity-50"></div>
  </div>

  <%# Content %>
  <div class="relative container mx-auto px-4 h-full flex flex-col justify-center">
    <%# Event Details %>
    <div class="text-white max-w-3xl">
      <%# Event Type Badge %>
      <span class="inline-block px-3 py-1 bg-purple-500 rounded-full text-sm font-medium mb-4">
        <%= hero.category %>
      </span>

      <%# Title %>
      <h1 class="text-5xl font-bold mb-4 leading-tight">
        <%= hero.title %>
      </h1>

      <%# Event Details Row %>
      <div class="flex items-center space-x-6 mb-6 text-lg">
        <%# Date and Time %>
        <div class="flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
          </svg>
          <span><%= hero.start_date.strftime("%A, %b %d") %></span>
        </div>

        <%# Time %>
        <div class="flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span><%= hero.start_date.strftime("%I:%M %p") %></span>
        </div>

        <%# Location %>
        <div class="flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <span><%= hero.location %></span>
        </div>

        <%# Price %>
        <div class="flex items-center space-x-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span><%= hero.ticket_types&.first&.price %></span>
        </div>
      </div>

      <%# Description %>
      <p class="text-lg mb-8 text-gray-200">
        <%= truncate(hero.description, length: 150) %>
      </p>

      <%# CTA Buttons %>
      <div class="flex space-x-4">
        <%= button_to "Book Now", new_event_event_registration_path(hero), method: :get, class: "px-8 py-3 bg-purple-600 hover:bg-purple-700 rounded-lg font-semibold transition-colors duration-200" %>

        <%= button_to "Follow Organizer", user_path(hero.organizer), method: :post, class: "px-8 py-3 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg font-semibold transition-colors duration-200" %>
      </div>
    </div>

    <%# Organizer Info %>
    <div class="absolute bottom-6 right-6 flex items-center space-x-4 text-white">
      <div class="flex items-center space-x-2">
        <%# if hero.organizer.avatar.attached? %>
          <%#= image_tag hero.organizer.avatar, class: "w-10 h-10 rounded-full" %>
        <%# else %>
<!--          <div class="w-10 h-10 rounded-full bg-gray-300"></div>-->
        <%# end %>
        <div>
          <p class="font-medium"><%= hero.organizer.name %></p>
<!--          <p class="text-sm text-gray-300"><%#= number_with_delimiter(hero.organizer.followers_count) %> Followers</p>-->
        </div>
      </div>
    </div>
  </div>
  <% else %>
    <div class="absolute inset-0">
    <section class="bg-gradient-to-r from-purple-600 to-blue-500 text-white py-32">
      <div class="container mx-auto px-4">
        <h2 class="text-4xl font-bold mb-4">Book Now</h2>
        <p class="text-xl mb-8">Enjoy the magic with us</p>
      </div>
    </section>
    </div>
  <% end %>

</div>